<ion-view  id="page4" style="background-color:#9e0a22;" xmlns="http://www.w3.org/1999/html">
  <ion-nav-title>{{content.title}}</ion-nav-title>
  <!-- FAB Menu -->
  <ion-floating-menu menu-color="#2c2a2b" menu-open-color="#2c2a2b" backdrop="true">
    <ion-floating-item icon="schellicon-home" ui-sref="start-screen" button-color="#2c2a2b" text="Home" icon-color="#fff" ></ion-floating-item>
    <ion-floating-item icon="schellicon-filter" menu-toggle="left" button-color="#2c2a2b" text="Filter" icon-color="#fff"></ion-floating-item>
  </ion-floating-menu>
  <ion-nav-buttons side="right">
    <!-- Filter search bar -->
    <button class="button button-icon icon ion-ios-search-strong" ng-click="showFilterBar()">
    </button>
    <!-- Breadcrumb ionic -->
    <button class="button icon ion-chevron-down" ng-click="popover.show($event)"></button>
  </ion-nav-buttons>
  <ion-content padding="true" class="has-header">
    <div id="product-lines-body">
      <div class="container">
        <div class="row">
          <div class="col">
            <p class="filter-text">Filter aktiv 181/200 Produkte</p>
          </div>
        </div>
        <div class="product-lines">
          <h3 class="heading">Wandeinbau Duscharmaturen</h3>
          <!-- Products -->
          <div ng-repeat="product in products" ng-if="$index%3 == 0" class="row responsive-sm">

            <div class="col col-33" ng-click="choice_product(products[$index].product_ids, products[$index].title_de)" ng-if="products[$index].product_ids">
              <div class="product-tile">
                <div class="row">
                  <div class="col">
                    <div class="product-counter">
                      <p><strong>{{products[$index].product_ids.length}} Artikel</strong></p>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col col-66">
                    <h3 class="product-type">{{products[$index].title_de}}</h3>
                  </div>
                  <div class="col">
                    <img src="{{products[$index].bild}}" class="center" style="width: auto;">
                  </div>
                </div>
              </div>
            </div>
            <!-- Check for children -->
            <div class="col col-33" ng-click="choice(products[$index].child_ids,products[$index].title_de)" ng-if="products[$index].child_ids">
              <div class="product-tile">
                <div class="col">
                  <div class="product-counter">
                    <p><strong>{{products[$index].child_ids.length}} Artikel</strong></p>
                  </div>
                </div>
                <div class="row">
                  <div class="col col-66">
                    <h3 class="product-type">{{products[$index].title_de}}</h3>
                  </div>
                  <div class="col">
                    <img src="{{products[$index].bild}}" class="center" style="width: auto;">
                  </div>
                </div>
              </div>
            </div>
            <!-- Product ID-->
            <div class="col col-33" ng-if="products[$index + 1] != undefined && products[$index + 1].product_ids" ng-click="choice_product(products[$index + 1].product_ids,products[$index + 1].title_de)">
              <div class="product-tile">
                <div class="row">
                  <div class="col">
                    <div class="product-counter">
                     <p><strong>{{products[$index + 1].product_ids.length}} Artikel</strong></p>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col col-66">
                    <h3 class="product-type">{{products[$index + 1].title_de}}</h3>
                  </div>
                  <div class="col">
                    <img src="{{products[$index + 1].bild}}" class="center" style="width: auto;">
                  </div>
                </div>
              </div>
            </div>

            <!--Child Product-->
            <div class="col col-33" ng-if="products[$index + 1] != undefined && products[$index + 1].child_ids" ng-click="choice(products[$index + 1].child_ids,products[$index + 1].title_de)">
              <div class="product-tile">
                <div class="col">
                  <div class="product-counter">
                    <p><strong>{{products[$index + 1].child_ids.length}} Artikel</strong></p>
                  </div>
                </div>
                <div class="row">
                  <div class="col col-66">
                    <h3 class="product-type">{{products[$index + 1].title_de}}</h3>
                  </div>
                  <div class="col">
                    <img src="{{products[$index + 1].bild}}" class="center" style="width: auto;">
                  </div>
                </div>
              </div>
            </div>

            <!--Product Ids-->
            <div class="col col-33" ng-if="products[$index + 2] != undefined && products[$index + 2].product_ids" ng-click="choice_product(products[$index + 2].product_ids,products[$index + 2].title_de)">
              <div class="product-tile">
                <div class="row">
                  <div class="col">
                    <div class="product-counter">
                      <p><strong>{{products[$index + 2].product_ids.length}} Artikel</strong></p>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col col-66">
                    <h3 class="product-type">{{products[$index + 2].title_de}}</h3>
                  </div>
                  <div class="col">
                    <img src="{{products[$index + 2].bild}}" class="center" style="width: auto;">
                  </div>
                </div>
              </div>
            </div>
            <!--Child IDs-->
            <div class="col col-33" ng-if="products[$index + 2] != undefined && products[$index + 2].child_ids" ng-click="choice(products[$index + 2].child_ids,products[$index + 2].title_de)">
              <div class="product-tile">
                <div class="col">
                  <div class="product-counter">
                    <p><strong>{{products[$index + 2].child_ids.length}} Artikel</strong></p>
                  </div>
                </div>
                <div class="row">
                  <div class="col col-66">
                    <h3 class="product-type">{{products[$index + 2].title_de}}</h3>
                  </div>
                  <div class="col">
                    <img src="{{products[$index + 2].bild}}" class="center" style="width: auto;">
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>
  </ion-content>
</ion-view>
