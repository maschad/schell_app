<ion-view  style="background-color:white;">
  <ion-nav-title>{{title}}</ion-nav-title>
  <ion-floating-menu menu-color="#2c2a2b" menu-open-color="#2c2a2b" backdrop="true">
    <ion-floating-item icon="schellicon-home" ui-sref="start-screen" button-color="#2c2a2b" text="Hauptmenü" icon-color="#fff" ></ion-floating-item>
    <ion-floating-item icon="schellicon-mail" button-color="#2c2a2b" text="Artikel weiterempfehlen" icon-color="#fff"
                       click="sendEmail()"></ion-floating-item>
    <ion-floating-item id="downloaded-fab"
                       icon="schellicon-download"
                       button-color="#2c2a2b"
                       text="Artikel offline speichern" icon-color="#fff" click="downloadProduct()"></ion-floating-item>
    <ion-floating-item id="bookmark-fab" icon="schellicon-paper-clip" button-class="fab-normal" text="Artikel merken"
                       icon-color="#fff"
                       click="bookmark()"></ion-floating-item>
    <ion-floating-item ng-show="showBookmark" icon="schellicon-list" button-class="fab-normal" text="Merkliste"
                       icon-color="#fff" ui-sref="bookmark"></ion-floating-item>
  </ion-floating-menu>
  <!-- Breadcrumb ionic -->
  <ion-nav-buttons side="right" class="has-header">
    <button class="button icon ion-chevron-down" ng-click="popover.show($event)"></button>
  </ion-nav-buttons>

  <ion-content padding="false" class="has-header">
    <div class="row responsive-sm marg-top-30">
      <div class="col col-40">
        <img ng-src="{{details.image_landscape}}" class="product-img">
      </div>
      <div id="detailPage-markdown3" class="col">
        <p id="detailPage-heading4" class="product-order-number">Bestellnummer: {{details.nummer}}</p>
        <p id="detailPage-heading3" class="product-name"> {{details.produktbezeichnung_de}} {{details.zusatz1_de}} </p>
        <p class="product-noted"> {{details.zusatz2_de}}</p>
        <div class="product-summary" ng-bind-html="details.beschreibung_de"></div>
        <ion-list>
          <div ng-repeat="list in listData">
            <div ng-show="list.hasData != '' ">
              <ion-item class="description-item" ng-click="toggleGroup(list)"
                        ng-class="{active: isGroupShown(list)}">
                <div class="item-icon-right">
                  <div class="wrap">
                    {{list.title}}
                  </div>
                  <i class="icon" ng-class="isGroupShown(list) ? 'ion-chevron-up' : 'ion-chevron-down'"></i>
                </div>
              </ion-item>
            </div>
            <ion-item class="description-accordion" ng-show="isGroupShown(list)">
              <div ng-if="list.title.includes('ZEICHNUNG')">
                <img ng-src="{{details.technical_drawing_link}}" style="max-width: 100%; max-height: 100%;">
              </div>
              <div ng-if="list.title == 'LIEFERUMFANG'">
                <div ng-bind-html="details.lieferumfang_de" class="wrap"></div>
              </div>
              <div ng-if="list.title == 'EINSATZBEREICH / TECHNISCHE DATEN'">
                <div ng-bind-html="details.einsatzbereich_de" class="wrap"></div>
              </div>
              <div ng-if="list.title == 'DETAILS'">
                <ul>
                  <li><strong>Werkstoff:</strong>
                    <div ng-bind-html="details.werkstoff_de" class="wrap"></div>
                  </li>
                  <li><strong>Prüfzeichen:</strong>
                    <p ng-bind-html="details.pruefzeichen_de" class="wrap"></p></li>
                  <li><strong>Geräuschklasse:</strong>
                    <p ng-bind-html="details.geraeuschklasse_de" class="wrap"></p></li>
                  <li><strong>Oberfläche:</strong>
                    <p ng-bind-html="details.oberflaeche_de" class="wrap"></p></li>
                  <li><strong>Gewicht:</strong>
                    <p ng-bind-html="details.gewicht" class="wrap"></p></li>
                  <li><strong>Verpackungseinheit:</strong>
                    <p ng-bind-html="details.verpackungseinheit" class="wrap"></p></li>
                </ul>
              </div>
              <div ng-if="list.title == 'DOWNLOADS'">
                <div ng-repeat="file in files">
                  <div class="row">
                    <div class="col col-20">
                      <img ng-src="{{file.thumbnail}}" width="70%" style="border: 1px solid #000;"
                           ng-click="downloadPDF(file,$index)"><!-- #TODO: put in download button -->
                    </div>
                  </div>
                </div>
              </div>
              <div ng-if="list.title == 'VARIANTEN'">
                <div ng-repeat="product in productVariations">
                  <table style="width: 100%">
                    <tr>
                      <th class="wrap">
                        <div ng-bind-html="product.werkstoff_de"> , {{product.oberflaeche_de}} ,{{product.gewicht_de}}
                        </div>
                      </th>
                      <th class="wrap"><a ng-click="selectProductVariations(product.uid)">{{product.nummer}}</a></th>
                    </tr>
                  </table>
                </div>
              </div>
              <div ng-if="list.title == 'EMPFOHLENE ZUGEHÖRIGE ARTIKEL'">
                <div ng-repeat="accessory in emfolene">
                  <table style="width: 100%">
                    <tr>
                      <th class="wrap">
                        {{accessory.product.produktbezeichnung_de}},
                        {{accessory.product.zusatz1_de}}
                      </th>
                      <th>
                        Best.-Nr:<a ng-click="selectProductVariations(accessory.product.uid)">{{accessory.product.nummer}}</a>
                      </th>
                      <th>
                        <p ng-show="accessory.oder">oder</p>
                      </th>
                    </tr>
                  </table>
                </div>
              </div>
              <div ng-if="list.title == 'VERBINDUNG'">
                <div ng-repeat="accessory in verbindung">
                  <table style="width: 100%">
                    <tr>
                      <th class="wrap">
                        {{accessory.product.produktbezeichnung_de}},
                        {{accessory.product.zusatz1_de}}
                      </th>
                      <th>
                        Best.-Nr:<a ng-click="selectProductVariations(accessory.product.uid)">{{accessory.product.nummer}}</a>
                      </th>
                      <th>
                        <p ng-show="accessory.oder">oder</p>
                      </th>
                    </tr>
                  </table>
                </div>
              </div>
              <div ng-if="list.title == 'NOTWENDIGE ZUGEHÖRIGE'">
                <div ng-repeat="accessory in notwendige">
                  <table style="width: 100%">
                    <tr>
                      <th class="wrap">
                        {{accessory.product.produktbezeichnung_de}},
                        {{accessory.product.zusatz1_de}}
                      </th>
                      <th>
                        Best.-Nr:<a ng-click="selectProductVariations(accessory.product.uid)">{{accessory.product.nummer}}</a>
                      </th>
                      <th>
                        <p ng-show="accessory.oder">oder</p>
                      </th>
                    </tr>
                  </table>
                </div>
              </div>
              <div ng-if="list.title == 'VIDEO'">
                <div ng-show="videos">
                  <div ng-repeat="video in videos">
                    <div class="col">
                      <video width="100%" height="100%" controls poster="{{video.startimage_de}}">
                        <source src="{{trustSrc(video.videofile_de)}}">
                      </video>
                    </div>
                  </div>
                </div>
              </div>
            </ion-item>
          </div>
        </ion-list>

        <div ng-repeat="award in awards">
          <div class="design-awards">
            <img ng-src="{{award.logo}}">
          </div>
        </div>

      </div>
    </div>

  </ion-content>
</ion-view>
